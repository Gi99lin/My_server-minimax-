# LiveKit Server Configuration
# https://docs.livekit.io/realtime/self-hosting/deployment/

port: 7880
log_level: info

rtc:
  # TCP порт для WebRTC
  tcp_port: 7881
  # UDP диапазон для медиа
  port_range_start: 50000
  port_range_end: 50100
  # Автоопределение внешнего IP (важно для VPS)
  use_external_ip: true
  # Включить ICE Lite для лучшей совместимости
  # enable_loopback_candidate: false

# Redis для масштабирования (обязателен для продакшена)
redis:
  address: redis:6379

# API ключи будут переданы через переменные окружения
# keys:
#   your_api_key: your_api_secret

# Встроенный TURN сервер
turn:
  enabled: true
  # Домен TURN (должен совпадать с SSL сертификатом)
  domain: livekit.gigglin.tech
  # TLS порт для TURN (443 для максимальной совместимости)
  # Но мы используем 5349 т.к. 443 занят NPM
  tls_port: 5349
  # UDP порт для TURN
  udp_port: 3478

# Лимиты комнат
room:
  # Максимум участников в комнате
  max_participants: 50
  # Пустые комнаты удаляются через 5 минут
  empty_timeout: 300

# Prometheus метрики (опционально)
# prometheus_port: 6789

# Логирование
logging:
  json: false
  sample: true
